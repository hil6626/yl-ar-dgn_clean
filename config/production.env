# YL-AR-DGN 生产环境配置

# ============================================
# 通用配置
# ============================================
ENVIRONMENT=production
DEBUG=false
LOG_LEVEL=INFO
TIMEZONE=Asia/Shanghai

# ============================================
# AR-backend 配置 (端口: 5501)
# ============================================
AR_BACKEND_HOST=0.0.0.0
AR_BACKEND_PORT=5501
AR_BACKEND_WORKERS=4
AR_BACKEND_LOG_LEVEL=INFO

# 监控API密钥（生产环境必须修改）
MONITOR_API_KEY=your-secure-api-key-here

# 摄像头配置
CAMERA_DEVICE=/dev/video0
CAMERA_WIDTH=1280
CAMERA_HEIGHT=720
CAMERA_FPS=30

# 人脸合成引擎配置
FACE_ENGINE=deep-live-cam
FACE_MODEL_PATH=/app/models
FACE_TEMP_DIR=/app/data/temp

# 音频处理配置
AUDIO_SAMPLE_RATE=44100
AUDIO_CHANNELS=2
AUDIO_BUFFER_SIZE=1024

# 虚拟摄像头配置
VIRTUAL_CAMERA_DEVICE=/dev/video20
VIRTUAL_CAMERA_WIDTH=1280
VIRTUAL_CAMERA_HEIGHT=720

# ============================================
# YL-monitor 配置 (端口: 5500)
# ============================================
YL_MONITOR_HOST=0.0.0.0
YL_MONITOR_PORT=8000
YL_MONITOR_WORKERS=4
YL_MONITOR_LOG_LEVEL=info

# 数据库配置
DATABASE_URL=sqlite:///data/monitor.db
DATABASE_POOL_SIZE=10
DATABASE_MAX_OVERFLOW=20

# 监控节点配置
AR_BACKEND_URL=http://ar-backend:5501
USER_GUI_URL=http://user-gui:5502

# 告警配置
ALERT_ENABLED=true
ALERT_WEBHOOK_URL=
ALERT_EMAIL_ENABLED=false
ALERT_EMAIL_SMTP_HOST=
ALERT_EMAIL_SMTP_PORT=587
ALERT_EMAIL_USER=
ALERT_EMAIL_PASSWORD=

# WebSocket配置
WS_HEARTBEAT_INTERVAL=30
WS_RECONNECT_INTERVAL=5

# ============================================
# User GUI 配置 (端口: 5502)
# ============================================
USER_GUI_HOST=0.0.0.0
USER_GUI_PORT=5502
USER_GUI_LOG_LEVEL=INFO

# 后端服务地址
AR_BACKEND_API_URL=http://localhost:5501
YL_MONITOR_API_URL=http://localhost:5500

# GUI配置
GUI_THEME=dark
GUI_LANGUAGE=zh_CN
GUI_WINDOW_WIDTH=1400
GUI_WINDOW_HEIGHT=900

# ============================================
# Docker 配置
# ============================================
COMPOSE_PROJECT_NAME=yl-ar-dgn
DOCKER_NETWORK=ar-network

# 镜像标签
AR_BACKEND_IMAGE=ar-backend:latest
YL_MONITOR_IMAGE=yl-monitor:latest
USER_GUI_IMAGE=user-gui:latest

# 资源限制
AR_BACKEND_CPU_LIMIT=2.0
AR_BACKEND_MEMORY_LIMIT=2G
YL_MONITOR_CPU_LIMIT=1.0
YL_MONITOR_MEMORY_LIMIT=1G
USER_GUI_CPU_LIMIT=1.0
USER_GUI_MEMORY_LIMIT=1G

# ============================================
# 安全配置
# ============================================
CORS_ORIGINS=https://your-domain.com,https://admin.your-domain.com
ALLOWED_HOSTS=localhost,127.0.0.1,your-domain.com
SESSION_TIMEOUT=3600
MAX_REQUEST_SIZE=100MB

# SSL/TLS配置（生产环境启用）
SSL_ENABLED=false
SSL_CERT_PATH=/app/certs/server.crt
SSL_KEY_PATH=/app/certs/server.key

# ============================================
# 备份配置
# ============================================
BACKUP_ENABLED=true
BACKUP_INTERVAL=daily
BACKUP_RETENTION_DAYS=30
BACKUP_PATH=/app/backups

# ============================================
# 性能配置
# ============================================
CACHE_ENABLED=true
CACHE_TYPE=redis
CACHE_REDIS_URL=redis://localhost:6379/0
CACHE_TTL=300

# 异步任务
CELERY_BROKER_URL=redis://localhost:6379/1
CELERY_RESULT_BACKEND=redis://localhost:6379/2
